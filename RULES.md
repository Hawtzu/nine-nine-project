# Nine Nine - ゲームルール

## 概要
9x9のボードで2人のプレイヤーが対戦するターン制ストラテジーゲーム。

## 勝利条件
相手が以下のいずれかの状態になると勝利：
- ボードの外に落ちる
- 爆弾タイルを踏む
- 移動できなくなる（周囲が石や相手で塞がれる）
- オブジェクトを配置できなくなる

## ゲームの流れ

### 1. 初期配置
- プレイヤー1: ボード中央の左端 (4, 0)
- プレイヤー2: ボード中央の右端 (4, 8)
- 回復タイル（泉）: 各プレイヤー側に1つずつランダム配置
- 石: ランダムに3つ配置（プレイヤー周囲を除く）

### 2. 先攻決定
自分の泉までの距離が遠いプレイヤーが先攻。

### 3. ターンの流れ
各ターンは以下の順序で進行：

1. **ターン開始ボーナス**: +10ポイント
2. **ダイスロール**: 1〜3の目が出る
3. **移動**: ダイスの目の数だけ上下左右に直進
4. **配置**: 隣接マスにオブジェクトを配置

## 移動ルール

### 基本移動
- 上下左右の十字4方向 + 斜め4方向の計8方向に直進
- ダイスの目の数だけ進む（途中停止不可）
- 同じ方向に進み続ける

### 移動の障害
- **石**: 石の手前で止まる
- **相手プレイヤー**: 相手の手前で止まる
- **ボード外**: 落ちて敗北

### 特殊タイル効果（移動時）
- **回復タイル**: 踏むと+20ポイント
- **爆弾タイル**: 踏むと敗北
- **氷タイル**: 踏むと移動距離+1（滑る）

## 配置ルール

### 配置可能な位置
- 常に上下左右4マス（移動方向に関わらず）
- 相手プレイヤーがいるマスには配置不可

### 配置可能なオブジェクト

| オブジェクト | コスト | 配置条件 | 効果 |
|-------------|--------|----------|------|
| 石 | 無料 | 石以外のマス | 障害物になる |
| 回復タイル | 100pt | 空のマスのみ | 踏むと+20pt |
| 爆弾タイル | 50pt | 空のマスのみ | 踏むと敗北 |
| 氷タイル | 50pt | 空のマスのみ | 踏むと移動距離+1 |

### ドリル（特殊アクション）
- コスト: 200pt
- 効果: 隣接する石を1つ破壊
- 配置の代わりに使用

## ポイントシステム

### ポイント獲得
- ターン開始: +10pt
- 回復タイルを踏む: +20pt
- フィギュアボーナス: +10pt（後述）

### ポイント消費
- 回復タイル配置: 100pt
- 爆弾タイル配置: 50pt
- 氷タイル配置: 50pt
- ドリル使用: 200pt

## フィギュアボーナス（未実装）
特定の形に石を配置するとボーナスポイント。

### 対象の形
```
パターン1:     パターン2:     パターン3:     パターン4:
■ ■           ■ . ■         ■ ■           ■ . ■
■ . ■         ■ ■ ■         . ■           ■ ■ ■
              . . .         ■ ■
```

各形状完成で +10pt

## スペシャルスキル（未実装）
ゲーム開始時に選択する特殊能力。

### 氷スキル
- 氷タイルを配置可能になる

---

## 実装状況

### Phase 1（完了）
- [x] 基本的なボード表示
- [x] プレイヤー移動
- [x] ダイスロール
- [x] 石の配置
- [x] 回復/爆弾/氷タイル配置
- [x] ドリル
- [x] 基本的な勝敗判定

### Phase 2（完了）
- [x] スペシャルスキル選択画面
- [x] 斜め移動＆斜め配置

### Phase 3（予定）
- [ ] フィギュアボーナス

### Phase 4（予定）
- [ ] AI対戦

### Phase 5（予定）
- [ ] リプレイ機能

---

## 変更履歴
- 2026-02-16: 斜め移動＆斜め配置を追加
- 2026-01-25: 初版作成
